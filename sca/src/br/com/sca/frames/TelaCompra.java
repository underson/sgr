/*
 * TelaCompra.java
 *
 * Created on 28/04/2012, 17:42:31
 */
package br.com.sca.frames;

import br.com.sca.controller.CompraController;
import br.com.sca.controller.EntregaController;
import br.com.sca.controller.PedidoController;
import br.com.sca.datamodel.MTCompra;
import br.com.sca.datamodel.MTFornecedor;
import br.com.sca.datamodel.MTItemPesquisa;
import br.com.sca.datamodel.MTItenCompra;
import br.com.sca.datamodel.MTMaterial;
import br.com.sca.datamodel.MTMaterialCompra;
import br.com.sca.datamodel.MTItemEntrega;
import br.com.sca.datamodel.MTTelefone;
import br.com.sca.entidades.Compra;
import br.com.sca.entidades.Fornecedor;
import br.com.sca.entidades.Materiais;
import br.com.sca.entidades.MaterialCompra;
import br.com.sca.entidades.MtCompraEntregue;
import java.util.ArrayList;
import java.util.Calendar;
import java.util.GregorianCalendar;
import javax.swing.JOptionPane;
import javax.swing.SpinnerNumberModel;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.TableModel;

/**
 *
 * @author Anderson
 */
public class TelaCompra extends javax.swing.JFrame {

    private PedidoController pedidoController;
    private CompraController compraController;
    private EntregaController entregaController;
    private int qtdAEntregar;
    private Compra compra;
    private MtCompraEntregue materialEntregue;
    private TelaPrincipal telaPrincipal;

    public TelaCompra(TelaPrincipal telaPrincipal) {
        initComponents();
        this.telaPrincipal = telaPrincipal;
        btAlterarDadosItem.setVisible(false);
        rBtnLimiteEstoque.setSelected(true);
        inicializarPedido();
        inicializarCompra();
        inicializarFechamentoDeCompra();

    }

    private void inicializarPedido() {
        btCancelaPedido.setEnabled(false);
        btPedirProduto.setEnabled(false);
        pedidoController = new PedidoController();
        tabelaMateriaisPedidos.setModel(pedidoController.preencherTabelaComMaterialPedido());
        preencherTabelaMaterialDisponível();
        tfPesquisaMatDispKeyReleased(null);
        tfPesquisaMatPedKeyReleased(null);
        inicializarCompra();
    }

    private void inicializarCompra() {
        tfPesquisaRzSc.setEnabled(false);
        compraController = new CompraController(this.telaPrincipal);
        tabelaItensComprar.setModel(compraController.preencherTabelaComMaterialPedido());
        tabelaFornecedor.setModel(compraController.preencherTabela());
        tabelaCompra.setModel(new MTItemEntrega(new ArrayList<MaterialCompra>()));
        btIncluirCompra.setEnabled(false);
        btRetirarItemCompra.setEnabled(false);
        tfPesquisaMatCom.setEnabled(false);
        calendarioDataPrevista.setEnabled(false);
        calendarioDataPrevista.setDate(null);
        btFinalizar.setEnabled(false);
        btAlterarDadosItem.setEnabled(false);
        Calendar calendario = new GregorianCalendar();
        calendario.setTimeInMillis(System.currentTimeMillis());
        calendarioDataPrevista.setMinSelectableDate(calendario.getTime());
    }

    public void inicializarFechamentoDeCompra() {
        entregaController = new EntregaController();
        tabelaCompraAberta.setModel(compraController.preencherTabelaDeCompraAberta());
        tabelaItensCompra.setModel(new DefaultTableModel());
        btAlterarDadosItem.setEnabled(false);
        btEntrega.setEnabled(false);
        btVisualizarEntregas.setEnabled(false);
    }

    private void preencherTabelaMaterialDisponível() {
        if (rBtnTodos.isSelected()) {
            tabelaMateriaisDisponiveis.setModel(pedidoController.preencherTabelaComMaterial(PedidoController.MODELO_MATERIAL_COMPLETO));
        } else {
            tabelaMateriaisDisponiveis.setModel(pedidoController.preencherTabelaComMaterial(PedidoController.MODELO_MATERIAL_EM_LIMITE));
        }
    }

    public void adicionarItemCompra(MaterialCompra material) {
        tabelaCompra.setModel(compraController.adicionarItemCompra(material));
        tabelaItensComprar.setModel(compraController.removerItemPedido(material));
        btIncluirCompra.setEnabled(false);
        btRetirarItemCompra.setEnabled(false);
        tfPesquisaMatComKeyReleased(null);
    }

     public void atualizarItemCompra() {
        tabelaCompraAbertaMousePressed(null);
        tabelaCompraAbertaMouseReleased(null);
    }

    private void inicializarDialogEntrega() {
        tabelaItensCompraAEntregar.setModel(new DefaultTableModel());
        tabelaItensEntregues.setModel(new DefaultTableModel());
        tfNotaFiscal.setText("");
        calendarioDataEntrega.setDate(null);
        tBtNovaEntrega.setSelected(false);
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        btGrpMateriais = new javax.swing.ButtonGroup();
        dialogEntregaCompra = new javax.swing.JDialog();
        lbEntregaProduto = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        tabelaItensCompraAEntregar = new javax.swing.JTable();
        jScrollPane2 = new javax.swing.JScrollPane();
        tabelaItensEntregues = new javax.swing.JTable();
        calendarioDataEntrega = new com.toedter.calendar.JDateChooser();
        lbDataEntrega = new javax.swing.JLabel();
        tfNotaFiscal = new javax.swing.JTextField();
        lbNotaFiscal = new javax.swing.JLabel();
        btIncluirIten = new javax.swing.JButton();
        btRemover = new javax.swing.JButton();
        lbItensCompra = new javax.swing.JLabel();
        lbItensEntregues = new javax.swing.JLabel();
        btIncluirAlterando = new javax.swing.JButton();
        jSeparator1 = new javax.swing.JSeparator();
        tBtNovaEntrega = new javax.swing.JToggleButton();
        btFinalizarEntrega = new javax.swing.JButton();
        dialogQuantEntregue = new javax.swing.JDialog();
        lbNomeProduto = new javax.swing.JLabel();
        lbPrecoEntregue = new javax.swing.JLabel();
        lbQuantEntregue = new javax.swing.JLabel();
        lbPreco = new javax.swing.JLabel();
        spinnerQuantEntregue = new javax.swing.JSpinner();
        lbTipoQuant = new javax.swing.JLabel();
        btConfirmarItemQuant = new javax.swing.JButton();
        dialogDadosCompra = new javax.swing.JDialog();
        jScrollPane3 = new javax.swing.JScrollPane();
        tabelaItensEntreguesPesquisa = new javax.swing.JTable();
        jPanel1 = new javax.swing.JPanel();
        jLabel7 = new javax.swing.JLabel();
        lbRazaoSocial = new javax.swing.JLabel();
        lbRzSocVal = new javax.swing.JLabel();
        lbEmail = new javax.swing.JLabel();
        lbEmailVal = new javax.swing.JLabel();
        jScrollPane4 = new javax.swing.JScrollPane();
        tabelaTelefone = new javax.swing.JTable();
        lbTelefones = new javax.swing.JLabel();
        lbContato = new javax.swing.JLabel();
        lbContatoVl = new javax.swing.JLabel();
        lbNrNota = new javax.swing.JLabel();
        comboNotaFiscal = new javax.swing.JComboBox();
        lbVT = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        btEstorno = new javax.swing.JButton();
        dialogConfirmarEstorno = new javax.swing.JDialog();
        spinnerEstorno = new javax.swing.JSpinner();
        lbQtdEstornar = new javax.swing.JLabel();
        lbQtdEntrg = new javax.swing.JLabel();
        lbQtdEstq = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        lbMaterialVl = new javax.swing.JLabel();
        lbTipoVl = new javax.swing.JLabel();
        lbEntregueVl = new javax.swing.JLabel();
        lbEstoqueVl = new javax.swing.JLabel();
        jButton1 = new javax.swing.JButton();
        dialogUsuario = new javax.swing.JDialog();
        tfUsuario = new javax.swing.JTextField();
        lbRealizarEstorno = new javax.swing.JLabel();
        lbDigitar = new javax.swing.JLabel();
        lbUsuario = new javax.swing.JLabel();
        lbSenha = new javax.swing.JLabel();
        btConfirmarUsu = new javax.swing.JButton();
        jPsSenha = new javax.swing.JPasswordField();
        painelAbas = new javax.swing.JTabbedPane();
        painelCompras = new javax.swing.JPanel();
        scrollTabItensCompra = new javax.swing.JScrollPane();
        tabelaItensComprar = new javax.swing.JTable();
        lbPedidoMaterial = new javax.swing.JLabel();
        scrollTabCompra = new javax.swing.JScrollPane();
        tabelaCompra = new javax.swing.JTable();
        btIncluirCompra = new javax.swing.JButton();
        lbItemCompra = new javax.swing.JLabel();
        lbFornecedor = new javax.swing.JLabel();
        scrollTabelaFornecedor = new javax.swing.JScrollPane();
        tabelaFornecedor = new javax.swing.JTable();
        btRetirarItemCompra = new javax.swing.JButton();
        tBtNovaCompra = new javax.swing.JToggleButton();
        tfPesquisaMatCom = new javax.swing.JTextField();
        lbPesquisaMaterial = new javax.swing.JLabel();
        lbPesquisaRzSc = new javax.swing.JLabel();
        tfPesquisaRzSc = new javax.swing.JTextField();
        lbData = new javax.swing.JLabel();
        calendarioDataPrevista = new com.toedter.calendar.JDateChooser();
        btFinalizar = new javax.swing.JButton();
        lbDadosCompra = new javax.swing.JLabel();
        jSeparator2 = new javax.swing.JSeparator();
        painelFinalizarCompra = new javax.swing.JPanel();
        scrollCompraAberta = new javax.swing.JScrollPane();
        tabelaCompraAberta = new javax.swing.JTable();
        lbCompraAberta = new javax.swing.JLabel();
        scrollItensCompra = new javax.swing.JScrollPane();
        tabelaItensCompra = new javax.swing.JTable();
        lbItenCompra = new javax.swing.JLabel();
        btAlterarDadosItem = new javax.swing.JButton();
        btEntrega = new javax.swing.JButton();
        btVisualizarEntregas = new javax.swing.JButton();
        painelPedidos = new javax.swing.JPanel();
        painelMateriaisDisponíveis = new javax.swing.JPanel();
        jPanel3 = new javax.swing.JPanel();
        scrollTabMatPed = new javax.swing.JScrollPane();
        tabelaMateriaisPedidos = new javax.swing.JTable();
        lbPesquisaMatPed = new javax.swing.JLabel();
        tfPesquisaMatPed = new javax.swing.JTextField();
        lbPedido = new javax.swing.JLabel();
        jPanel4 = new javax.swing.JPanel();
        scrollTabMatDisp = new javax.swing.JScrollPane();
        tabelaMateriaisDisponiveis = new javax.swing.JTable();
        tfPesquisaMatDisp = new javax.swing.JTextField();
        lbPesquisaMatDisp = new javax.swing.JLabel();
        lbDisponíveis = new javax.swing.JLabel();
        rBtnLimiteEstoque = new javax.swing.JRadioButton();
        rBtnTodos = new javax.swing.JRadioButton();
        btPedirProduto = new javax.swing.JButton();
        btCancelaPedido = new javax.swing.JButton();

        dialogEntregaCompra.setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        dialogEntregaCompra.setTitle("Entrega de Compra");
        dialogEntregaCompra.setAlwaysOnTop(true);
        dialogEntregaCompra.setBounds(new java.awt.Rectangle(0, 0, 400, 80));
        dialogEntregaCompra.setMinimumSize(new java.awt.Dimension(1250, 521));
        dialogEntregaCompra.setModal(true);
        dialogEntregaCompra.setResizable(false);
        dialogEntregaCompra.addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowClosing(java.awt.event.WindowEvent evt) {
                dialogEntregaCompraWindowClosing(evt);
            }
        });

        lbEntregaProduto.setText("Entrega de Produtos");

        tabelaItensCompraAEntregar.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {},
                {},
                {},
                {}
            },
            new String [] {

            }
        ));
        tabelaItensCompraAEntregar.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
        tabelaItensCompraAEntregar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mousePressed(java.awt.event.MouseEvent evt) {
                tabelaItensCompraAEntregarMousePressed(evt);
            }
        });
        jScrollPane1.setViewportView(tabelaItensCompraAEntregar);

        tabelaItensEntregues.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {},
                {},
                {},
                {}
            },
            new String [] {

            }
        ));
        tabelaItensEntregues.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
        tabelaItensEntregues.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mousePressed(java.awt.event.MouseEvent evt) {
                tabelaItensEntreguesMousePressed(evt);
            }
        });
        jScrollPane2.setViewportView(tabelaItensEntregues);

        lbDataEntrega.setText("Data de Entrega:");

        lbNotaFiscal.setText("Número Nota Fiscal:");

        btIncluirIten.setText("Adicionar");
        btIncluirIten.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btIncluirItenActionPerformed(evt);
            }
        });

        btRemover.setText("Remover");
        btRemover.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btRemoverActionPerformed(evt);
            }
        });

        lbItensCompra.setText("Itens a entregar");

        lbItensEntregues.setText("Itens entregues");

        btIncluirAlterando.setText("Adicionar (qtd menor)");
        btIncluirAlterando.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btIncluirAlterandoActionPerformed(evt);
            }
        });

        tBtNovaEntrega.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/sca/imagem/novo_32x32.png"))); // NOI18N
        tBtNovaEntrega.setText("Nova Entrega");
        tBtNovaEntrega.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                tBtNovaEntregaActionPerformed(evt);
            }
        });

        btFinalizarEntrega.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/sca/imagem/apply32x32.png"))); // NOI18N
        btFinalizarEntrega.setText("Finalizar Entrega");
        btFinalizarEntrega.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btFinalizarEntregaActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout dialogEntregaCompraLayout = new javax.swing.GroupLayout(dialogEntregaCompra.getContentPane());
        dialogEntregaCompra.getContentPane().setLayout(dialogEntregaCompraLayout);
        dialogEntregaCompraLayout.setHorizontalGroup(
            dialogEntregaCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(dialogEntregaCompraLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(dialogEntregaCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jSeparator1, javax.swing.GroupLayout.PREFERRED_SIZE, 1208, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(dialogEntregaCompraLayout.createSequentialGroup()
                        .addGroup(dialogEntregaCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lbItensCompra)
                            .addGroup(dialogEntregaCompraLayout.createSequentialGroup()
                                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 550, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(dialogEntregaCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(btRemover, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(btIncluirAlterando, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(btIncluirIten, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                            .addGroup(dialogEntregaCompraLayout.createSequentialGroup()
                                .addComponent(lbNotaFiscal)
                                .addGap(18, 18, 18)
                                .addComponent(tfNotaFiscal, javax.swing.GroupLayout.PREFERRED_SIZE, 135, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(lbDataEntrega, javax.swing.GroupLayout.PREFERRED_SIZE, 115, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(calendarioDataEntrega, javax.swing.GroupLayout.PREFERRED_SIZE, 137, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(tBtNovaEntrega)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(dialogEntregaCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addGroup(dialogEntregaCompraLayout.createSequentialGroup()
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(lbItensEntregues)
                                .addGap(464, 464, 464))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, dialogEntregaCompraLayout.createSequentialGroup()
                                .addGroup(dialogEntregaCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 517, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(btFinalizarEntrega))
                                .addGap(24, 24, 24))))
                    .addComponent(lbEntregaProduto))
                .addContainerGap())
        );
        dialogEntregaCompraLayout.setVerticalGroup(
            dialogEntregaCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(dialogEntregaCompraLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(dialogEntregaCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(dialogEntregaCompraLayout.createSequentialGroup()
                        .addComponent(lbEntregaProduto)
                        .addGap(12, 12, 12)
                        .addGroup(dialogEntregaCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(tfNotaFiscal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lbNotaFiscal)
                            .addComponent(lbDataEntrega)))
                    .addGroup(dialogEntregaCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(btFinalizarEntrega)
                        .addComponent(tBtNovaEntrega))
                    .addComponent(calendarioDataEntrega, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(24, 24, 24)
                .addComponent(jSeparator1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(5, 5, 5)
                .addGroup(dialogEntregaCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lbItensCompra)
                    .addComponent(lbItensEntregues, javax.swing.GroupLayout.PREFERRED_SIZE, 14, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(dialogEntregaCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane2)
                    .addComponent(jScrollPane1)
                    .addGroup(dialogEntregaCompraLayout.createSequentialGroup()
                        .addComponent(btIncluirIten)
                        .addGap(18, 18, 18)
                        .addComponent(btIncluirAlterando)
                        .addGap(18, 18, 18)
                        .addComponent(btRemover)))
                .addContainerGap())
        );

        dialogQuantEntregue.setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        dialogQuantEntregue.setTitle("Produto Entregue");
        dialogQuantEntregue.setBounds(new java.awt.Rectangle(250, 50, 0, 0));
        dialogQuantEntregue.setMinimumSize(new java.awt.Dimension(309, 266));
        dialogQuantEntregue.setModal(true);
        dialogQuantEntregue.setResizable(false);

        lbNomeProduto.setFont(new java.awt.Font("Tahoma", 0, 14));
        lbNomeProduto.setText("jLabel1");

        lbPrecoEntregue.setText("Preço :");

        lbQuantEntregue.setText("Quantidade:");

        lbPreco.setText("preco");

        lbTipoQuant.setText("jLabel1");

        btConfirmarItemQuant.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/sca/imagem/apply32x32.png"))); // NOI18N
        btConfirmarItemQuant.setText("Confirmar");
        btConfirmarItemQuant.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btConfirmarItemQuantActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout dialogQuantEntregueLayout = new javax.swing.GroupLayout(dialogQuantEntregue.getContentPane());
        dialogQuantEntregue.getContentPane().setLayout(dialogQuantEntregueLayout);
        dialogQuantEntregueLayout.setHorizontalGroup(
            dialogQuantEntregueLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(dialogQuantEntregueLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(dialogQuantEntregueLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(dialogQuantEntregueLayout.createSequentialGroup()
                        .addGroup(dialogQuantEntregueLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lbNomeProduto, javax.swing.GroupLayout.PREFERRED_SIZE, 272, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(dialogQuantEntregueLayout.createSequentialGroup()
                                .addComponent(lbTipoQuant)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 238, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(dialogQuantEntregueLayout.createSequentialGroup()
                        .addGroup(dialogQuantEntregueLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(lbPrecoEntregue)
                            .addComponent(lbQuantEntregue))
                        .addGap(18, 18, 18)
                        .addComponent(spinnerQuantEntregue, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addContainerGap())))
            .addGroup(dialogQuantEntregueLayout.createSequentialGroup()
                .addGap(94, 94, 94)
                .addComponent(lbPreco, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(147, Short.MAX_VALUE))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, dialogQuantEntregueLayout.createSequentialGroup()
                .addContainerGap(157, Short.MAX_VALUE)
                .addComponent(btConfirmarItemQuant)
                .addContainerGap())
        );
        dialogQuantEntregueLayout.setVerticalGroup(
            dialogQuantEntregueLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(dialogQuantEntregueLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(lbNomeProduto)
                .addGap(18, 18, 18)
                .addComponent(lbTipoQuant)
                .addGap(28, 28, 28)
                .addGroup(dialogQuantEntregueLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lbPreco)
                    .addComponent(lbPrecoEntregue))
                .addGap(18, 18, 18)
                .addGroup(dialogQuantEntregueLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lbQuantEntregue)
                    .addComponent(spinnerQuantEntregue, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(btConfirmarItemQuant)
                .addContainerGap(19, Short.MAX_VALUE))
        );

        dialogDadosCompra.setTitle("Entregas");
        dialogDadosCompra.setMinimumSize(new java.awt.Dimension(946, 513));
        dialogDadosCompra.setModal(true);

        tabelaItensEntreguesPesquisa.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {},
                {},
                {},
                {}
            },
            new String [] {

            }
        ));
        tabelaItensEntreguesPesquisa.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
        tabelaItensEntreguesPesquisa.setSurrendersFocusOnKeystroke(true);
        tabelaItensEntreguesPesquisa.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tabelaItensEntreguesPesquisaMouseClicked(evt);
            }
        });
        jScrollPane3.setViewportView(tabelaItensEntreguesPesquisa);

        jLabel7.setFont(new java.awt.Font("Tahoma", 1, 14));
        jLabel7.setText("Fornecedor");

        lbRazaoSocial.setFont(new java.awt.Font("Tahoma", 0, 14));
        lbRazaoSocial.setText("Razão Social:");

        lbRzSocVal.setFont(new java.awt.Font("Tahoma", 0, 14));
        lbRzSocVal.setText("rzSoc");

        lbEmail.setFont(new java.awt.Font("Tahoma", 0, 14));
        lbEmail.setText("E-mail:");

        lbEmailVal.setFont(new java.awt.Font("Tahoma", 0, 14));
        lbEmailVal.setText("rzSoc");

        tabelaTelefone.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {},
                {},
                {},
                {}
            },
            new String [] {

            }
        ));
        tabelaTelefone.setEnabled(false);
        jScrollPane4.setViewportView(tabelaTelefone);

        lbTelefones.setFont(new java.awt.Font("Tahoma", 0, 14));
        lbTelefones.setText("Telefone(s)");

        lbContato.setFont(new java.awt.Font("Tahoma", 0, 14));
        lbContato.setText("Contato:");

        lbContatoVl.setFont(new java.awt.Font("Tahoma", 0, 14));
        lbContatoVl.setText("contato");

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(lbEmail)
                            .addComponent(lbRazaoSocial)
                            .addComponent(lbContato))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lbContatoVl, javax.swing.GroupLayout.DEFAULT_SIZE, 181, Short.MAX_VALUE)
                            .addComponent(lbEmailVal, javax.swing.GroupLayout.DEFAULT_SIZE, 181, Short.MAX_VALUE)
                            .addComponent(lbRzSocVal, javax.swing.GroupLayout.DEFAULT_SIZE, 181, Short.MAX_VALUE)))
                    .addComponent(jLabel7))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, 348, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbTelefones))
                .addContainerGap())
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel7, javax.swing.GroupLayout.PREFERRED_SIZE, 17, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbTelefones, javax.swing.GroupLayout.PREFERRED_SIZE, 17, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lbRazaoSocial)
                            .addComponent(lbRzSocVal))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lbEmail, javax.swing.GroupLayout.PREFERRED_SIZE, 17, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lbEmailVal))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lbContato, javax.swing.GroupLayout.PREFERRED_SIZE, 17, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lbContatoVl, javax.swing.GroupLayout.PREFERRED_SIZE, 17, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addComponent(jScrollPane4, 0, 0, Short.MAX_VALUE)))
        );

        lbNrNota.setFont(new java.awt.Font("Tahoma", 0, 14));
        lbNrNota.setText("Nota Fiscal:");

        comboNotaFiscal.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Escolha o número da nota" }));
        comboNotaFiscal.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                comboNotaFiscalItemStateChanged(evt);
            }
        });

        lbVT.setFont(new java.awt.Font("Times New Roman", 1, 14));

        jLabel2.setFont(new java.awt.Font("Tahoma", 0, 14));
        jLabel2.setText("Valor Total:");

        jLabel8.setFont(new java.awt.Font("Tahoma", 1, 14));
        jLabel8.setText("Entrega");

        btEstorno.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/sca/imagem/apply32x32.png"))); // NOI18N
        btEstorno.setText("Estornar");
        btEstorno.setEnabled(false);
        btEstorno.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btEstornoActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout dialogDadosCompraLayout = new javax.swing.GroupLayout(dialogDadosCompra.getContentPane());
        dialogDadosCompra.getContentPane().setLayout(dialogDadosCompraLayout);
        dialogDadosCompraLayout.setHorizontalGroup(
            dialogDadosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(dialogDadosCompraLayout.createSequentialGroup()
                .addGroup(dialogDadosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(dialogDadosCompraLayout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(jScrollPane3, javax.swing.GroupLayout.DEFAULT_SIZE, 926, Short.MAX_VALUE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, dialogDadosCompraLayout.createSequentialGroup()
                        .addGap(18, 18, 18)
                        .addGroup(dialogDadosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel8)
                            .addGroup(dialogDadosCompraLayout.createSequentialGroup()
                                .addGap(10, 10, 10)
                                .addGroup(dialogDadosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(jLabel2)
                                    .addComponent(lbNrNota))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(dialogDadosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(lbVT, javax.swing.GroupLayout.PREFERRED_SIZE, 175, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(comboNotaFiscal, javax.swing.GroupLayout.PREFERRED_SIZE, 186, javax.swing.GroupLayout.PREFERRED_SIZE))))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, dialogDadosCompraLayout.createSequentialGroup()
                        .addContainerGap(827, Short.MAX_VALUE)
                        .addComponent(btEstorno)))
                .addContainerGap())
        );
        dialogDadosCompraLayout.setVerticalGroup(
            dialogDadosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(dialogDadosCompraLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(dialogDadosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(dialogDadosCompraLayout.createSequentialGroup()
                        .addComponent(jLabel8, javax.swing.GroupLayout.PREFERRED_SIZE, 17, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(dialogDadosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lbNrNota, javax.swing.GroupLayout.PREFERRED_SIZE, 17, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(comboNotaFiscal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(dialogDadosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(lbVT, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jLabel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                    .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane3, javax.swing.GroupLayout.DEFAULT_SIZE, 352, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btEstorno)
                .addContainerGap())
        );

        dialogConfirmarEstorno.setTitle("Estorno");
        dialogConfirmarEstorno.setBounds(new java.awt.Rectangle(500, 100, 0, 0));
        dialogConfirmarEstorno.setMinimumSize(new java.awt.Dimension(345, 233));
        dialogConfirmarEstorno.setModal(true);
        dialogConfirmarEstorno.setResizable(false);

        lbQtdEstornar.setText("Qtd a estornar:");

        lbQtdEntrg.setText("Entregue:");

        lbQtdEstq.setText("Em estoque:");

        jLabel3.setFont(new java.awt.Font("Tahoma", 1, 12));
        jLabel3.setText("Quantidade");

        lbMaterialVl.setFont(new java.awt.Font("Tahoma", 1, 12));
        lbMaterialVl.setText("jLabel4");

        lbTipoVl.setFont(new java.awt.Font("Tahoma", 1, 12));
        lbTipoVl.setText("jLabel4");

        lbEntregueVl.setText("jLabel4");

        lbEstoqueVl.setText("jLabel4");

        jButton1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/sca/imagem/apply32x32.png"))); // NOI18N
        jButton1.setText("Confirmar");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout dialogConfirmarEstornoLayout = new javax.swing.GroupLayout(dialogConfirmarEstorno.getContentPane());
        dialogConfirmarEstorno.getContentPane().setLayout(dialogConfirmarEstornoLayout);
        dialogConfirmarEstornoLayout.setHorizontalGroup(
            dialogConfirmarEstornoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, dialogConfirmarEstornoLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(dialogConfirmarEstornoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(lbMaterialVl, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 311, Short.MAX_VALUE)
                    .addGroup(dialogConfirmarEstornoLayout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(lbTipoVl, javax.swing.GroupLayout.DEFAULT_SIZE, 301, Short.MAX_VALUE))
                    .addGroup(dialogConfirmarEstornoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(dialogConfirmarEstornoLayout.createSequentialGroup()
                            .addGap(10, 10, 10)
                            .addGroup(dialogConfirmarEstornoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                .addComponent(lbQtdEstq)
                                .addComponent(lbQtdEntrg)
                                .addComponent(lbQtdEstornar))
                            .addGap(18, 18, 18)
                            .addGroup(dialogConfirmarEstornoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                .addComponent(lbEntregueVl, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(spinnerEstorno, javax.swing.GroupLayout.PREFERRED_SIZE, 66, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(lbEstoqueVl, javax.swing.GroupLayout.PREFERRED_SIZE, 151, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jButton1, javax.swing.GroupLayout.Alignment.TRAILING)))
                        .addComponent(jLabel3)))
                .addGap(24, 24, 24))
        );
        dialogConfirmarEstornoLayout.setVerticalGroup(
            dialogConfirmarEstornoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(dialogConfirmarEstornoLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(lbMaterialVl)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(lbTipoVl)
                .addGap(18, 18, 18)
                .addComponent(jLabel3)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(dialogConfirmarEstornoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lbQtdEntrg)
                    .addComponent(lbEntregueVl, javax.swing.GroupLayout.PREFERRED_SIZE, 14, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(dialogConfirmarEstornoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lbQtdEstq)
                    .addComponent(lbEstoqueVl))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(dialogConfirmarEstornoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(spinnerEstorno, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbQtdEstornar))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jButton1)
                .addContainerGap())
        );

        dialogUsuario.setBounds(new java.awt.Rectangle(350, 220, 0, 0));
        dialogUsuario.setMinimumSize(new java.awt.Dimension(493, 224));
        dialogUsuario.setModal(true);
        dialogUsuario.setResizable(false);

        lbRealizarEstorno.setFont(new java.awt.Font("Tahoma", 1, 14));
        lbRealizarEstorno.setText("Para realizar um estorno você deve ser um almoxarife superior");

        lbDigitar.setFont(new java.awt.Font("Tahoma", 1, 14));
        lbDigitar.setText("Digite seu nome de usuário e senha");

        lbUsuario.setText("Usuário:");

        lbSenha.setText("Senha:");

        btConfirmarUsu.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/sca/imagem/apply32x32.png"))); // NOI18N
        btConfirmarUsu.setText("Confirmar");
        btConfirmarUsu.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btConfirmarUsuActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout dialogUsuarioLayout = new javax.swing.GroupLayout(dialogUsuario.getContentPane());
        dialogUsuario.getContentPane().setLayout(dialogUsuarioLayout);
        dialogUsuarioLayout.setHorizontalGroup(
            dialogUsuarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(dialogUsuarioLayout.createSequentialGroup()
                .addGroup(dialogUsuarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(dialogUsuarioLayout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(lbRealizarEstorno))
                    .addGroup(dialogUsuarioLayout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(lbDigitar))
                    .addGroup(dialogUsuarioLayout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(dialogUsuarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(lbUsuario)
                            .addComponent(lbSenha))
                        .addGap(18, 18, 18)
                        .addGroup(dialogUsuarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jPsSenha, javax.swing.GroupLayout.PREFERRED_SIZE, 110, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(tfUsuario, javax.swing.GroupLayout.PREFERRED_SIZE, 209, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(dialogUsuarioLayout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(btConfirmarUsu)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        dialogUsuarioLayout.setVerticalGroup(
            dialogUsuarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(dialogUsuarioLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(lbRealizarEstorno)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(lbDigitar)
                .addGap(27, 27, 27)
                .addGroup(dialogUsuarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(tfUsuario, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbUsuario))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(dialogUsuarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lbSenha)
                    .addComponent(jPsSenha, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 8, Short.MAX_VALUE)
                .addComponent(btConfirmarUsu)
                .addContainerGap())
        );

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("Compra");
        setResizable(false);
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowClosing(java.awt.event.WindowEvent evt) {
                formWindowClosing(evt);
            }
        });

        tabelaItensComprar.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {},
                {},
                {},
                {}
            },
            new String [] {

            }
        ));
        tabelaItensComprar.setEnabled(false);
        tabelaItensComprar.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
        tabelaItensComprar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tabelaItensComprarMouseClicked(evt);
            }
        });
        scrollTabItensCompra.setViewportView(tabelaItensComprar);

        lbPedidoMaterial.setFont(new java.awt.Font("Tahoma", 0, 14));
        lbPedidoMaterial.setText("Materiais a serem comprados");

        tabelaCompra.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {},
                {},
                {},
                {}
            },
            new String [] {

            }
        ));
        tabelaCompra.setEnabled(false);
        tabelaCompra.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
        tabelaCompra.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tabelaCompraMouseClicked(evt);
            }
        });
        scrollTabCompra.setViewportView(tabelaCompra);

        btIncluirCompra.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/sca/imagem/incluir_32x32.png"))); // NOI18N
        btIncluirCompra.setToolTipText("Incluir Item");
        btIncluirCompra.setBorderPainted(false);
        btIncluirCompra.setContentAreaFilled(false);
        btIncluirCompra.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btIncluirCompraActionPerformed(evt);
            }
        });

        lbItemCompra.setFont(new java.awt.Font("Tahoma", 0, 14));
        lbItemCompra.setText("Itens da Compra");

        lbFornecedor.setFont(new java.awt.Font("Tahoma", 0, 14));
        lbFornecedor.setText("Fornecedor");

        tabelaFornecedor.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {},
                {},
                {},
                {}
            },
            new String [] {

            }
        ));
        tabelaFornecedor.setEnabled(false);
        tabelaFornecedor.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
        scrollTabelaFornecedor.setViewportView(tabelaFornecedor);

        btRetirarItemCompra.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/sca/imagem/retirar_32x32.png"))); // NOI18N
        btRetirarItemCompra.setToolTipText("Retirar Item");
        btRetirarItemCompra.setBorderPainted(false);
        btRetirarItemCompra.setContentAreaFilled(false);
        btRetirarItemCompra.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btRetirarItemCompraActionPerformed(evt);
            }
        });

        tBtNovaCompra.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/sca/imagem/novo_32x32.png"))); // NOI18N
        tBtNovaCompra.setText("Nova Compra");
        tBtNovaCompra.setToolTipText("Nova Compra");
        tBtNovaCompra.setContentAreaFilled(false);
        tBtNovaCompra.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                tBtNovaCompraActionPerformed(evt);
            }
        });

        tfPesquisaMatCom.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                tfPesquisaMatComKeyReleased(evt);
            }
        });

        lbPesquisaMaterial.setText("Pesquisa por nome:");

        lbPesquisaRzSc.setText("Pesquisa por razão social:");

        tfPesquisaRzSc.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                tfPesquisaRzScKeyReleased(evt);
            }
        });

        lbData.setText("Data prevista da entrega:");

        btFinalizar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/sca/imagem/salvar_32x32.png"))); // NOI18N
        btFinalizar.setText("Finalizar Compra");
        btFinalizar.setToolTipText("Finalizar Compra");
        btFinalizar.setContentAreaFilled(false);
        btFinalizar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btFinalizarActionPerformed(evt);
            }
        });

        lbDadosCompra.setFont(new java.awt.Font("Tahoma", 0, 14));
        lbDadosCompra.setText("DADOS DA COMPRA");

        javax.swing.GroupLayout painelComprasLayout = new javax.swing.GroupLayout(painelCompras);
        painelCompras.setLayout(painelComprasLayout);
        painelComprasLayout.setHorizontalGroup(
            painelComprasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(painelComprasLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(painelComprasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(painelComprasLayout.createSequentialGroup()
                        .addGroup(painelComprasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(scrollTabItensCompra, javax.swing.GroupLayout.DEFAULT_SIZE, 571, Short.MAX_VALUE)
                            .addGroup(javax.swing.GroupLayout.Alignment.LEADING, painelComprasLayout.createSequentialGroup()
                                .addComponent(lbPedidoMaterial, javax.swing.GroupLayout.PREFERRED_SIZE, 196, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(lbPesquisaMaterial)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(tfPesquisaMatCom, javax.swing.GroupLayout.DEFAULT_SIZE, 271, Short.MAX_VALUE))
                            .addComponent(scrollTabelaFornecedor, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 571, Short.MAX_VALUE)
                            .addGroup(javax.swing.GroupLayout.Alignment.LEADING, painelComprasLayout.createSequentialGroup()
                                .addComponent(lbFornecedor)
                                .addGap(180, 180, 180)
                                .addComponent(lbPesquisaRzSc)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(tfPesquisaRzSc, javax.swing.GroupLayout.DEFAULT_SIZE, 193, Short.MAX_VALUE)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(painelComprasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(btRetirarItemCompra, javax.swing.GroupLayout.DEFAULT_SIZE, 90, Short.MAX_VALUE)
                            .addComponent(btIncluirCompra, javax.swing.GroupLayout.DEFAULT_SIZE, 90, Short.MAX_VALUE)))
                    .addComponent(tBtNovaCompra))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(painelComprasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(painelComprasLayout.createSequentialGroup()
                        .addComponent(lbData)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 57, Short.MAX_VALUE)
                        .addComponent(calendarioDataPrevista, javax.swing.GroupLayout.PREFERRED_SIZE, 121, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(285, 285, 285))
                    .addComponent(lbDadosCompra, javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lbItemCompra, javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, painelComprasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                        .addComponent(jSeparator2, javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(scrollTabCompra, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 588, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(btFinalizar))
                .addContainerGap())
        );
        painelComprasLayout.setVerticalGroup(
            painelComprasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(painelComprasLayout.createSequentialGroup()
                .addGroup(painelComprasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(painelComprasLayout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(painelComprasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(tBtNovaCompra, javax.swing.GroupLayout.PREFERRED_SIZE, 32, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(btFinalizar, javax.swing.GroupLayout.PREFERRED_SIZE, 33, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(painelComprasLayout.createSequentialGroup()
                        .addGap(45, 45, 45)
                        .addGroup(painelComprasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lbDadosCompra)
                            .addComponent(lbFornecedor)
                            .addComponent(lbPesquisaRzSc)
                            .addComponent(tfPesquisaRzSc, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(painelComprasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(painelComprasLayout.createSequentialGroup()
                        .addComponent(jSeparator2, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(painelComprasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(calendarioDataPrevista, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lbData))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(lbItemCompra)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(scrollTabCompra, javax.swing.GroupLayout.DEFAULT_SIZE, 465, Short.MAX_VALUE))
                    .addGroup(painelComprasLayout.createSequentialGroup()
                        .addComponent(scrollTabelaFornecedor, javax.swing.GroupLayout.PREFERRED_SIZE, 182, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(painelComprasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lbPedidoMaterial)
                            .addComponent(lbPesquisaMaterial)
                            .addComponent(tfPesquisaMatCom, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(scrollTabItensCompra, javax.swing.GroupLayout.DEFAULT_SIZE, 321, Short.MAX_VALUE)))
                .addContainerGap())
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, painelComprasLayout.createSequentialGroup()
                .addContainerGap(335, Short.MAX_VALUE)
                .addComponent(btIncluirCompra)
                .addGap(26, 26, 26)
                .addComponent(btRetirarItemCompra)
                .addGap(174, 174, 174))
        );

        painelAbas.addTab("Compra", painelCompras);

        tabelaCompraAberta.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {},
                {},
                {},
                {}
            },
            new String [] {

            }
        ));
        tabelaCompraAberta.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
        tabelaCompraAberta.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mousePressed(java.awt.event.MouseEvent evt) {
                tabelaCompraAbertaMousePressed(evt);
            }
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                tabelaCompraAbertaMouseReleased(evt);
            }
        });
        scrollCompraAberta.setViewportView(tabelaCompraAberta);

        lbCompraAberta.setFont(new java.awt.Font("Tahoma", 0, 14));
        lbCompraAberta.setText("Compras ");

        tabelaItensCompra.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {},
                {},
                {},
                {}
            },
            new String [] {

            }
        ));
        tabelaItensCompra.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
        tabelaItensCompra.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tabelaItensCompraMouseClicked(evt);
            }
        });
        scrollItensCompra.setViewportView(tabelaItensCompra);

        lbItenCompra.setFont(new java.awt.Font("Tahoma", 0, 14));
        lbItenCompra.setText("Itens da Compra");

        btAlterarDadosItem.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/sca/imagem/editar_32x32.png"))); // NOI18N
        btAlterarDadosItem.setText("Alterar preço do item");
        btAlterarDadosItem.setToolTipText("Alterar Preço do Item");
        btAlterarDadosItem.setContentAreaFilled(false);
        btAlterarDadosItem.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btAlterarDadosItemActionPerformed(evt);
            }
        });

        btEntrega.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/sca/imagem/apply32x32.png"))); // NOI18N
        btEntrega.setText("Efetuar Entrega");
        btEntrega.setContentAreaFilled(false);
        btEntrega.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btEntregaActionPerformed(evt);
            }
        });

        btVisualizarEntregas.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/sca/imagem/ver_32x32.png"))); // NOI18N
        btVisualizarEntregas.setText("Visualizar Entregas");
        btVisualizarEntregas.setToolTipText("Visualizar Entregas");
        btVisualizarEntregas.setContentAreaFilled(false);
        btVisualizarEntregas.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btVisualizarEntregasActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout painelFinalizarCompraLayout = new javax.swing.GroupLayout(painelFinalizarCompra);
        painelFinalizarCompra.setLayout(painelFinalizarCompraLayout);
        painelFinalizarCompraLayout.setHorizontalGroup(
            painelFinalizarCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(painelFinalizarCompraLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(painelFinalizarCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lbCompraAberta, javax.swing.GroupLayout.PREFERRED_SIZE, 119, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(scrollCompraAberta, javax.swing.GroupLayout.PREFERRED_SIZE, 508, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(painelFinalizarCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(btEntrega, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 169, Short.MAX_VALUE)
                    .addComponent(btVisualizarEntregas, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 169, Short.MAX_VALUE)
                    .addComponent(btAlterarDadosItem, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(painelFinalizarCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(scrollItensCompra, javax.swing.GroupLayout.PREFERRED_SIZE, 615, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbItenCompra, javax.swing.GroupLayout.PREFERRED_SIZE, 119, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(55, 55, 55))
        );
        painelFinalizarCompraLayout.setVerticalGroup(
            painelFinalizarCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(painelFinalizarCompraLayout.createSequentialGroup()
                .addGap(20, 20, 20)
                .addComponent(lbCompraAberta)
                .addGroup(painelFinalizarCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, painelFinalizarCompraLayout.createSequentialGroup()
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(scrollCompraAberta, javax.swing.GroupLayout.PREFERRED_SIZE, 553, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, painelFinalizarCompraLayout.createSequentialGroup()
                        .addGap(16, 16, 16)
                        .addComponent(lbItenCompra)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(painelFinalizarCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(painelFinalizarCompraLayout.createSequentialGroup()
                                .addComponent(btEntrega)
                                .addGap(44, 44, 44)
                                .addComponent(btVisualizarEntregas)
                                .addGap(45, 45, 45)
                                .addComponent(btAlterarDadosItem))
                            .addComponent(scrollItensCompra, javax.swing.GroupLayout.DEFAULT_SIZE, 520, Short.MAX_VALUE))))
                .addContainerGap(16, Short.MAX_VALUE))
        );

        painelAbas.addTab("Entrega", painelFinalizarCompra);

        tabelaMateriaisPedidos.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {},
                {},
                {},
                {}
            },
            new String [] {

            }
        ));
        tabelaMateriaisPedidos.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
        tabelaMateriaisPedidos.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tabelaMateriaisPedidosMouseClicked(evt);
            }
        });
        scrollTabMatPed.setViewportView(tabelaMateriaisPedidos);

        lbPesquisaMatPed.setText("Pesquisa por Nome:");

        tfPesquisaMatPed.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                tfPesquisaMatPedKeyReleased(evt);
            }
        });

        lbPedido.setFont(new java.awt.Font("Tahoma", 0, 14));
        lbPedido.setText(" Pedidos");

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addComponent(lbPedido)
                .addContainerGap())
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(lbPesquisaMatPed)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(tfPesquisaMatPed, javax.swing.GroupLayout.PREFERRED_SIZE, 210, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addComponent(scrollTabMatPed, javax.swing.GroupLayout.DEFAULT_SIZE, 534, Short.MAX_VALUE)
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createSequentialGroup()
                .addComponent(lbPedido)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 17, Short.MAX_VALUE)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lbPesquisaMatPed)
                    .addComponent(tfPesquisaMatPed, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(scrollTabMatPed, javax.swing.GroupLayout.PREFERRED_SIZE, 524, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        tabelaMateriaisDisponiveis.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {},
                {},
                {},
                {}
            },
            new String [] {

            }
        ));
        tabelaMateriaisDisponiveis.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
        tabelaMateriaisDisponiveis.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tabelaMateriaisDisponiveisMouseClicked(evt);
            }
        });
        scrollTabMatDisp.setViewportView(tabelaMateriaisDisponiveis);

        tfPesquisaMatDisp.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                tfPesquisaMatDispKeyReleased(evt);
            }
        });

        lbPesquisaMatDisp.setText("Pesquisa por Nome:");

        lbDisponíveis.setFont(new java.awt.Font("Tahoma", 0, 14));
        lbDisponíveis.setText("Disponíveis");

        btGrpMateriais.add(rBtnLimiteEstoque);
        rBtnLimiteEstoque.setText("Limite Estoque");
        rBtnLimiteEstoque.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                rBtnLimiteEstoqueActionPerformed(evt);
            }
        });

        btGrpMateriais.add(rBtnTodos);
        rBtnTodos.setText("Todos");
        rBtnTodos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                rBtnTodosActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(scrollTabMatDisp, javax.swing.GroupLayout.DEFAULT_SIZE, 548, Short.MAX_VALUE)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel4Layout.createSequentialGroup()
                            .addComponent(rBtnLimiteEstoque, javax.swing.GroupLayout.PREFERRED_SIZE, 114, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                            .addComponent(rBtnTodos)
                            .addGap(51, 51, 51)
                            .addComponent(lbPesquisaMatDisp)
                            .addGap(18, 18, 18)
                            .addComponent(tfPesquisaMatDisp, javax.swing.GroupLayout.PREFERRED_SIZE, 213, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addComponent(lbDisponíveis, javax.swing.GroupLayout.PREFERRED_SIZE, 123, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap())
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addComponent(lbDisponíveis)
                        .addGap(18, 18, 18)
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(rBtnTodos)
                            .addComponent(rBtnLimiteEstoque)))
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addGap(36, 36, 36)
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(tfPesquisaMatDisp, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lbPesquisaMatDisp))))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(scrollTabMatDisp, javax.swing.GroupLayout.DEFAULT_SIZE, 522, Short.MAX_VALUE)
                .addContainerGap())
        );

        btPedirProduto.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/sca/imagem/incluir_32x32.png"))); // NOI18N
        btPedirProduto.setText("Pedir Produto");
        btPedirProduto.setToolTipText("Pedir Produto");
        btPedirProduto.setContentAreaFilled(false);
        btPedirProduto.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btPedirProdutoActionPerformed(evt);
            }
        });

        btCancelaPedido.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/sca/imagem/retirar_32x32.png"))); // NOI18N
        btCancelaPedido.setText("Cancelar Pedido");
        btCancelaPedido.setToolTipText("Cancelar Pedido");
        btCancelaPedido.setContentAreaFilled(false);
        btCancelaPedido.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btCancelaPedidoActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout painelMateriaisDisponíveisLayout = new javax.swing.GroupLayout(painelMateriaisDisponíveis);
        painelMateriaisDisponíveis.setLayout(painelMateriaisDisponíveisLayout);
        painelMateriaisDisponíveisLayout.setHorizontalGroup(
            painelMateriaisDisponíveisLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(painelMateriaisDisponíveisLayout.createSequentialGroup()
                .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(painelMateriaisDisponíveisLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(btPedirProduto, javax.swing.GroupLayout.DEFAULT_SIZE, 145, Short.MAX_VALUE)
                    .addComponent(btCancelaPedido))
                .addGap(18, 18, 18)
                .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        painelMateriaisDisponíveisLayout.setVerticalGroup(
            painelMateriaisDisponíveisLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(painelMateriaisDisponíveisLayout.createSequentialGroup()
                .addGap(76, 76, 76)
                .addComponent(btPedirProduto)
                .addGap(51, 51, 51)
                .addComponent(btCancelaPedido)
                .addContainerGap(386, Short.MAX_VALUE))
            .addComponent(jPanel4, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jPanel3, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        javax.swing.GroupLayout painelPedidosLayout = new javax.swing.GroupLayout(painelPedidos);
        painelPedidos.setLayout(painelPedidosLayout);
        painelPedidosLayout.setHorizontalGroup(
            painelPedidosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(painelPedidosLayout.createSequentialGroup()
                .addComponent(painelMateriaisDisponíveis, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );
        painelPedidosLayout.setVerticalGroup(
            painelPedidosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(painelPedidosLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(painelMateriaisDisponíveis, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );

        painelAbas.addTab("Pedido", painelPedidos);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(painelAbas, javax.swing.GroupLayout.PREFERRED_SIZE, 1286, javax.swing.GroupLayout.PREFERRED_SIZE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(painelAbas, javax.swing.GroupLayout.PREFERRED_SIZE, 645, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void rBtnLimiteEstoqueActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_rBtnLimiteEstoqueActionPerformed
        preencherTabelaMaterialDisponível();
        tfPesquisaMatDispKeyReleased(null);
    }//GEN-LAST:event_rBtnLimiteEstoqueActionPerformed

    private void rBtnTodosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_rBtnTodosActionPerformed
        preencherTabelaMaterialDisponível();
     //   calendarioDataPrevista.setS
        tfPesquisaMatDispKeyReleased(null);
    }//GEN-LAST:event_rBtnTodosActionPerformed

    private void btPedirProdutoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btPedirProdutoActionPerformed
            Materiais material = pedidoController.pegarMaterialNoIndice(tabelaMateriaisDisponiveis.getSelectedRow(), (MTMaterial) tabelaMateriaisDisponiveis.getModel());
            if (pedidoController.realizarPedido(material)) {
                inicializarPedido();
                JOptionPane.showMessageDialog(btPedirProduto, "Material incluído na lista de pedidos com sucesso.", "Mensagem", JOptionPane.INFORMATION_MESSAGE);
            } else {
                JOptionPane.showMessageDialog(painelCompras, "Erro durante o processo!", "ERRO!", JOptionPane.ERROR_MESSAGE);
            }
    }//GEN-LAST:event_btPedirProdutoActionPerformed

    private void tabelaMateriaisDisponiveisMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tabelaMateriaisDisponiveisMouseClicked
        btPedirProduto.setEnabled(true);
    }//GEN-LAST:event_tabelaMateriaisDisponiveisMouseClicked

    private void tfPesquisaMatDispKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfPesquisaMatDispKeyReleased
        tabelaMateriaisDisponiveis.setModel(
                pedidoController.pesquisarPorNome(tfPesquisaMatDisp.getText(), rBtnLimiteEstoque.isSelected()));
        btPedirProduto.setEnabled(false);

    }//GEN-LAST:event_tfPesquisaMatDispKeyReleased

    private void tfPesquisaMatPedKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfPesquisaMatPedKeyReleased
        tabelaMateriaisPedidos.setModel(
                pedidoController.pesquisarPorNome(tfPesquisaMatPed.getText()));
        btCancelaPedido.setEnabled(false);
    }//GEN-LAST:event_tfPesquisaMatPedKeyReleased

    private void tabelaMateriaisPedidosMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tabelaMateriaisPedidosMouseClicked
        btCancelaPedido.setEnabled(true);
    }//GEN-LAST:event_tabelaMateriaisPedidosMouseClicked

    private void btCancelaPedidoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btCancelaPedidoActionPerformed
            if (pedidoController.cancelarPedido(
                    pedidoController.pegarMaterialCompraNoIndice(tabelaMateriaisPedidos.getSelectedRow(), (MTMaterialCompra) tabelaMateriaisPedidos.getModel()))) {
                inicializarPedido();
                JOptionPane.showMessageDialog(btCancelaPedido, "Pedido cancelado com sucesso.", "Mensagem", JOptionPane.INFORMATION_MESSAGE);
            } else {
                JOptionPane.showMessageDialog(painelCompras, "Erro durante o processo!", "ERRO!", JOptionPane.ERROR_MESSAGE);
            }            
    }//GEN-LAST:event_btCancelaPedidoActionPerformed

    private void tBtNovaCompraActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_tBtNovaCompraActionPerformed
        if (tBtNovaCompra.isSelected()) {
            if (tabelaItensComprar.getModel().getRowCount() == 0) {
                JOptionPane.showMessageDialog(painelCompras, "Não há materais a serem comprados. Os materiais devem ser incluídos na lista de pedidos");
                tBtNovaCompra.setSelected(false);
            } else {
                inicializarCompra();
                tabelaItensComprar.setEnabled(true);
                tabelaCompra.setEnabled(true);
                tabelaFornecedor.setEnabled(true);
                tfPesquisaMatCom.setEnabled(true);
                tfPesquisaRzSc.setEnabled(true);
                painelAbas.setEnabledAt(1, false);
                painelAbas.setEnabledAt(2, false);
                calendarioDataPrevista.setEnabled(true);
                btFinalizar.setEnabled(true);
            }
        } else {
            int resultado = JOptionPane.showConfirmDialog(tBtNovaCompra, "Se você desligar esse botão, sua compra será cancelada"
                    + " e todos os dados serão perdidos. Confirma o cancelamento?", "Confirmação", JOptionPane.YES_NO_OPTION);
            if (resultado == JOptionPane.YES_OPTION) {
                tabelaItensComprar.setEnabled(false);
                tabelaCompra.setEnabled(false);
                tabelaFornecedor.setEnabled(false);
                tfPesquisaMatCom.setEnabled(false);
                tfPesquisaMatCom.setText("");
                calendarioDataPrevista.setEnabled(false);
                painelAbas.setEnabledAt(1, true);
                painelAbas.setEnabledAt(2, true);
                inicializarCompra();
                inicializarPedido();
            } else {
                tBtNovaCompra.setSelected(true);
            }
        }
    }//GEN-LAST:event_tBtNovaCompraActionPerformed

    private void tfPesquisaMatComKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfPesquisaMatComKeyReleased
        tabelaItensComprar.setModel(compraController.removerMaterialItemCompra(
                pedidoController.pesquisarPorNome(tfPesquisaMatCom.getText())));
        btIncluirCompra.setEnabled(false);
    }//GEN-LAST:event_tfPesquisaMatComKeyReleased

    private void tabelaItensComprarMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tabelaItensComprarMouseClicked
        if (tBtNovaCompra.isSelected()) {
            btIncluirCompra.setEnabled(true);
        }
    }//GEN-LAST:event_tabelaItensComprarMouseClicked

    private void tabelaCompraMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tabelaCompraMouseClicked
        btRetirarItemCompra.setEnabled(true);
    }//GEN-LAST:event_tabelaCompraMouseClicked

    private void btIncluirCompraActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btIncluirCompraActionPerformed
        MaterialCompra material = pedidoController.pegarMaterialCompraNoIndice(
                tabelaItensComprar.getSelectedRow(), (MTMaterialCompra) tabelaItensComprar.getModel());
        TelaItemCompra itemCompra = new TelaItemCompra(this, material, false);
        itemCompra.setVisible(true);
    }//GEN-LAST:event_btIncluirCompraActionPerformed

    private void btRetirarItemCompraActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btRetirarItemCompraActionPerformed
        MaterialCompra material = pedidoController.pegarItemCompraNoIndice(
                tabelaCompra.getSelectedRow(), (MTItenCompra) tabelaCompra.getModel());
        tabelaCompra.setModel(compraController.removerItemCompra(material));
        tabelaItensComprar.setModel(compraController.adicionarItemPedido(material));
        btRetirarItemCompra.setEnabled(false);
        btIncluirCompra.setEnabled(false);
        tfPesquisaMatComKeyReleased(null);
    }//GEN-LAST:event_btRetirarItemCompraActionPerformed

    private void tfPesquisaRzScKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfPesquisaRzScKeyReleased
        tabelaFornecedor.setModel(compraController.pesquisarFornecedorPorRzSc(tfPesquisaRzSc.getText()));
    }//GEN-LAST:event_tfPesquisaRzScKeyReleased

    private void formWindowClosing(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowClosing
        this.setDefaultCloseOperation(this.DISPOSE_ON_CLOSE);
        if (tBtNovaCompra.isSelected()) {
            int escolha = JOptionPane.showConfirmDialog(tabelaCompra, "Você perderá os dados da compra. Confirma a ação?", "Confirmação", JOptionPane.YES_NO_OPTION);
            if (escolha == JOptionPane.YES_OPTION) {
                this.setDefaultCloseOperation(this.DISPOSE_ON_CLOSE);
                dispose();
            } else {
                this.setDefaultCloseOperation(this.DO_NOTHING_ON_CLOSE);
            }
        }
    }//GEN-LAST:event_formWindowClosing

    private void btFinalizarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btFinalizarActionPerformed
        int escolha = JOptionPane.showConfirmDialog(painelCompras, "Confirma o fechamento da compra?", "Confirmação", JOptionPane.YES_NO_OPTION);
        if (escolha == JOptionPane.YES_OPTION) {
            if (tabelaFornecedor.getSelectedRow() == -1) {
                JOptionPane.showMessageDialog(painelCompras, "Selecione o fornecedor!");
            } else if (tabelaCompra.getModel().getRowCount() == 0) {
                JOptionPane.showMessageDialog(painelCompras, "Selecione ao menos um item de compra!");
            } else if (calendarioDataPrevista.getDate() == null) {
                JOptionPane.showMessageDialog(painelCompras, "Selecione a data da entrega!");
            } else {
                MTItenCompra modeloItem = (MTItenCompra) tabelaCompra.getModel();
                MTFornecedor modeloFornecedor = (MTFornecedor) tabelaFornecedor.getModel();
                if (compraController.finalizarVenda(modeloItem.getList(), calendarioDataPrevista.getDate(), (Fornecedor) modeloFornecedor.getObjectAt(
                        tabelaFornecedor.getSelectedRow()))) {
                    JOptionPane.showMessageDialog(painelCompras, "Compra realizada com sucesso!");
                    inicializarCompra();
                    inicializarFechamentoDeCompra();
                    inicializarPedido();
                    tBtNovaCompra.setSelected(false);
                    painelAbas.setEnabledAt(1, true);
                    painelAbas.setEnabledAt(2, true);
                } else {
                    JOptionPane.showMessageDialog(painelCompras, "Erro durante o processo!");
                    inicializarCompra();
                    tBtNovaCompra.setSelected(false);
                }
            }
        }
    }//GEN-LAST:event_btFinalizarActionPerformed

    private void tabelaItensCompraMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tabelaItensCompraMouseClicked
        btAlterarDadosItem.setEnabled(true);
    }//GEN-LAST:event_tabelaItensCompraMouseClicked

    private void btAlterarDadosItemActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btAlterarDadosItemActionPerformed
        MaterialCompra material = pedidoController.pegarMaterialCompraNoIndice(
                tabelaItensCompra.getSelectedRow(), (MTItemEntrega) tabelaItensCompra.getModel());
        TelaItemCompra tela = new TelaItemCompra(this, material, true);
        tela.setVisible(true);
    }//GEN-LAST:event_btAlterarDadosItemActionPerformed

    private void btEntregaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btEntregaActionPerformed
        tabelaItensCompraAEntregar.setModel(entregaController.preencherTabelaItemCompraNaoEntregue(
                compraController.pegarCompraNoIndice(
                tabelaCompraAberta.getSelectedRow(), (MTCompra) tabelaCompraAberta.getModel())));
        if (tabelaItensCompraAEntregar.getModel().getRowCount() == 0) {
            JOptionPane.showMessageDialog(painelCompras, "Não há mais produtos a serem entregues nessa compra!");
        } else {
            tabelaItensCompraAEntregar.setEnabled(false);
            tabelaItensEntregues.setEnabled(false);
            btIncluirIten.setEnabled(false);
            btIncluirAlterando.setEnabled(false);
            btIncluirAlterando.setEnabled(false);
            btRemover.setEnabled(false);
            btFinalizarEntrega.setEnabled(false);
            tfNotaFiscal.setEditable(true);
            calendarioDataEntrega.getDateEditor().setSelectableDateRange(null, null);
            calendarioDataEntrega.setMinSelectableDate(compraController.pegarCompraNoIndice(tabelaCompraAberta.getSelectedRow(),
                    (MTCompra) tabelaCompraAberta.getModel()).getDataPedidoCompra());
            calendarioDataEntrega.getCalendarButton().setEnabled(true);
            dialogEntregaCompra.setVisible(true);
        }
    }//GEN-LAST:event_btEntregaActionPerformed

    private void btIncluirItenActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btIncluirItenActionPerformed
        MaterialCompra material = compraController.retornarItemEntregaNoIndice(
                tabelaItensCompraAEntregar.getSelectedRow(), (MTItemEntrega) tabelaItensCompraAEntregar.getModel());
        tabelaItensCompraAEntregar.setModel(entregaController.removerItemEntrega(material));
        tabelaItensEntregues.setModel(entregaController.adicionarItemEntregue(material, tfNotaFiscal.getText(), calendarioDataEntrega.getDate(), true, 0));
        btIncluirIten.setEnabled(false);
        btIncluirAlterando.setEnabled(false);
        btRemover.setEnabled(false);
    }//GEN-LAST:event_btIncluirItenActionPerformed

    private void btRemoverActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btRemoverActionPerformed
        MaterialCompra material = compraController.retornarItemEntregaNoIndice(
                tabelaItensEntregues.getSelectedRow(), (MTItemEntrega) tabelaItensEntregues.getModel());
        tabelaItensCompraAEntregar.setModel(entregaController.adicionarItemEntrega(material));
        tabelaItensEntregues.setModel(entregaController.removerItemEntregue(material, tfNotaFiscal.getText()));
        btRemover.setEnabled(false);
        btIncluirIten.setEnabled(false);
        btIncluirAlterando.setEnabled(false);
    }//GEN-LAST:event_btRemoverActionPerformed

    private void tBtNovaEntregaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_tBtNovaEntregaActionPerformed
        if (tBtNovaEntrega.isSelected()) {
            if (tfNotaFiscal.getText().trim().equals("")) {
                tBtNovaEntrega.setSelected(false);
                JOptionPane.showMessageDialog(dialogEntregaCompra, "Digite o número da nota fiscal");
            } else if (calendarioDataEntrega.getDate() == null) {
                tBtNovaEntrega.setSelected(false);
                JOptionPane.showMessageDialog(dialogEntregaCompra, "Selecione a data de entrega");
            } else {
                tabelaItensEntregues.setModel((TableModel) entregaController.preencherTabelaComMateriaisJaEntregues(
                        compraController.pegarCompraNoIndice(tabelaCompraAberta.getSelectedRow(), (MTCompra) tabelaCompraAberta.getModel()),
                        tfNotaFiscal.getText()));
                tfNotaFiscal.setEditable(false);
                calendarioDataEntrega.getDateEditor().setSelectableDateRange(calendarioDataEntrega.getDate(), calendarioDataEntrega.getDate());
                calendarioDataEntrega.getCalendarButton().setEnabled(false);
                tabelaItensCompraAEntregar.setEnabled(true);
                tabelaItensEntregues.setEnabled(true);
                btFinalizarEntrega.setEnabled(true);
            }
        } else {
            int escolha = JOptionPane.showConfirmDialog(dialogEntregaCompra, "Você perderá os dados da entrega. Confirma a ação?", "Confirmar", JOptionPane.YES_NO_OPTION);
            if (escolha == JOptionPane.YES_OPTION) {
                tfNotaFiscal.setEditable(true);
                calendarioDataEntrega.getCalendarButton().setEnabled(true);
                dialogEntregaCompra.dispose();
                inicializarDialogEntrega();
            } else {
                tBtNovaEntrega.setSelected(true);
            }
            btFinalizarEntrega.setEnabled(false);
        }
    }//GEN-LAST:event_tBtNovaEntregaActionPerformed

    private void dialogEntregaCompraWindowClosing(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_dialogEntregaCompraWindowClosing
        if (tBtNovaEntrega.isSelected()) {
            int escolha = JOptionPane.showConfirmDialog(dialogEntregaCompra, "Você perderá os dados da entrega. Confirma a ação?", "Confirmar", JOptionPane.YES_NO_OPTION);
            if (escolha == JOptionPane.YES_OPTION) {
                dialogEntregaCompra.setDefaultCloseOperation(DISPOSE_ON_CLOSE);
                dialogEntregaCompra.dispose();
                inicializarDialogEntrega();
                tBtNovaEntrega.setSelected(false);
            } else {
                dialogEntregaCompra.setDefaultCloseOperation(DO_NOTHING_ON_CLOSE);
            }
        }
    }//GEN-LAST:event_dialogEntregaCompraWindowClosing

    private void btIncluirAlterandoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btIncluirAlterandoActionPerformed
        MaterialCompra material = entregaController.pegarMaterialEntregueNoIndice(
                tabelaItensCompraAEntregar.getSelectedRow(), (MTItemEntrega) tabelaItensCompraAEntregar.getModel());
        lbPreco.setText(material.getPrecoMatcom().toString());
        lbNomeProduto.setText(material.getMateriais().getNomeMat());
        lbTipoQuant.setText(material.getMateriais().getTipoMat());
        qtdAEntregar = entregaController.retornarQuantidadeQueFaltaEntregar(material);
        spinnerQuantEntregue.setModel(new SpinnerNumberModel(1, 1, qtdAEntregar, 1));
        spinnerQuantEntregue.getEditor().setEnabled(false);
        dialogEntregaCompra.toBack();
        dialogQuantEntregue.toFront();
        dialogQuantEntregue.setVisible(true);
    }//GEN-LAST:event_btIncluirAlterandoActionPerformed

    private void btConfirmarItemQuantActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btConfirmarItemQuantActionPerformed
        MaterialCompra material = entregaController.pegarMaterialEntregueNoIndice(
                tabelaItensCompraAEntregar.getSelectedRow(), (MTItemEntrega) tabelaItensCompraAEntregar.getModel());
        tabelaItensEntregues.setModel(entregaController.adicionarItemEntregue(material, tfNotaFiscal.getText(), calendarioDataEntrega.getDate(), false, (Integer) spinnerQuantEntregue.getValue()));
        tabelaItensCompraAEntregar.setModel(entregaController.removerItemEntrega(material));
        btIncluirIten.setEnabled(false);
        btIncluirAlterando.setEnabled(false);
        dialogQuantEntregue.dispose();
    }//GEN-LAST:event_btConfirmarItemQuantActionPerformed

    private void btFinalizarEntregaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btFinalizarEntregaActionPerformed
        if (tabelaItensEntregues.getModel().getRowCount() == 0) {
            JOptionPane.showMessageDialog(dialogEntregaCompra, "Você deve escolher ao menos um item para a entrega!");
        } else {
            int resultado = JOptionPane.showConfirmDialog(dialogEntregaCompra, "A entrega será finalizada e o estoque será atualizado. ", "Confirmar Entrega", JOptionPane.YES_NO_OPTION);
            if (resultado == JOptionPane.YES_OPTION) {
                entregaController.finalizarEntrega(tfNotaFiscal.getText().trim());
                inicializarPedido();
                inicializarCompra();
                inicializarFechamentoDeCompra();
                inicializarDialogEntrega();
                JOptionPane.showMessageDialog(dialogEntregaCompra, "Entrega realizada com sucesso!");
                dialogEntregaCompra.dispose();
            }
        }
    }//GEN-LAST:event_btFinalizarEntregaActionPerformed

    private void btVisualizarEntregasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btVisualizarEntregasActionPerformed
        compra = compraController.pegarCompraNoIndice(
                tabelaCompraAberta.getSelectedRow(), (MTCompra) tabelaCompraAberta.getModel());
        lbRzSocVal.setText(compra.getFornecedor().getRzSocFornec());
        lbEmailVal.setText(compra.getFornecedor().getEmailFornec());
        lbContatoVl.setText(compra.getFornecedor().getContatoFornec());
        tabelaTelefone.setModel(new MTTelefone(compra.getFornecedor().getTelefoneList()));
        String a1 = (String) comboNotaFiscal.getItemAt(0);
        comboNotaFiscal.removeAllItems();
        comboNotaFiscal.addItem(a1);
        for (String nota : compraController.retornarNrNotasFiscais(compra)) {
            comboNotaFiscal.addItem(nota);
        }
        dialogDadosCompra.setVisible(true);
    }//GEN-LAST:event_btVisualizarEntregasActionPerformed

    private void comboNotaFiscalItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_comboNotaFiscalItemStateChanged
        tabelaItensEntreguesPesquisa.setModel(compraController.retornarMtCompraEntregue(compra, (String) comboNotaFiscal.getSelectedItem()));
        lbVT.setText("R$ " + compraController.retornarTotalDaEntrega(compra, (String) comboNotaFiscal.getSelectedItem()));
        btEstorno.setEnabled(false);
    }//GEN-LAST:event_comboNotaFiscalItemStateChanged

    private void btEstornoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btEstornoActionPerformed
        if (entregaController.retornarMaterialEntregueNoIndice(tabelaItensEntreguesPesquisa.getSelectedRow(), (MTItemPesquisa) tabelaItensEntreguesPesquisa.getModel()).getQuatEntregueMce() == 0) {
            JOptionPane.showMessageDialog(dialogUsuario, "Não há nenhum produto a estornar!");
        } else {
            dialogUsuario.setVisible(true);
        }
    }//GEN-LAST:event_btEstornoActionPerformed

    private void tabelaItensEntreguesPesquisaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tabelaItensEntreguesPesquisaMouseClicked
        btEstorno.setEnabled(true);
    }//GEN-LAST:event_tabelaItensEntreguesPesquisaMouseClicked

    private void btConfirmarUsuActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btConfirmarUsuActionPerformed
        if (entregaController.eAlmoxarifeSuperior(tfUsuario.getText(), new String(jPsSenha.getPassword()))) {
            materialEntregue = entregaController.retornarMaterialEntregueNoIndice(tabelaItensEntreguesPesquisa.getSelectedRow(), (MTItemPesquisa) tabelaItensEntreguesPesquisa.getModel());
            lbMaterialVl.setText(materialEntregue.getMaterialCompra().getMateriais().getNomeMat());
            lbTipoVl.setText(materialEntregue.getMaterialCompra().getMateriais().getTipoMat());
            lbEntregueVl.setText(new String().valueOf(materialEntregue.getQuatEntregueMce()));
            lbEstoqueVl.setText(new String().valueOf(materialEntregue.getMaterialCompra().getMateriais().getQtdEstqMat()));
            spinnerEstorno.setModel(new SpinnerNumberModel(1,
                    1,
                    (materialEntregue.getQuatEntregueMce() < materialEntregue.getMaterialCompra().getMateriais().getQtdEstqMat() ? materialEntregue.getQuatEntregueMce() : materialEntregue.getMaterialCompra().getMateriais().getQtdEstqMat()),
                    1));
            tfUsuario.setText("");
            jPsSenha.setText("");
            dialogUsuario.dispose();
            dialogConfirmarEstorno.setVisible(true);
        } else {
            JOptionPane.showMessageDialog(dialogUsuario, "Usuário ou senha incorretos!");
        }
    }//GEN-LAST:event_btConfirmarUsuActionPerformed

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        double a = new Double((Double) spinnerEstorno.getValue());
        int b = (int) a;
        entregaController.estornar(materialEntregue, b);
        JOptionPane.showMessageDialog(dialogUsuario, "Estorno realizado com sucesso!");
        inicializarCompra();
        inicializarFechamentoDeCompra();
        inicializarPedido();
        dialogConfirmarEstorno.dispose();
        dialogDadosCompra.dispose();
    }//GEN-LAST:event_jButton1ActionPerformed

    private void tabelaCompraAbertaMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tabelaCompraAbertaMousePressed
        tabelaItensCompra.setModel((TableModel) compraController.preencherTabelaDeItensCompra(compraController.pegarCompraNoIndice(
                tabelaCompraAberta.getSelectedRow(), (MTCompra) tabelaCompraAberta.getModel())));
        btAlterarDadosItem.setEnabled(false);
        btEntrega.setEnabled(true);
        btVisualizarEntregas.setEnabled(true);
    }//GEN-LAST:event_tabelaCompraAbertaMousePressed

    private void tabelaCompraAbertaMouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tabelaCompraAbertaMouseReleased
        tabelaItensCompra.setModel((TableModel) compraController.preencherTabelaDeItensCompra(compraController.pegarCompraNoIndice(
                tabelaCompraAberta.getSelectedRow(), (MTCompra) tabelaCompraAberta.getModel())));
        btAlterarDadosItem.setEnabled(false);
        btEntrega.setEnabled(true);
        btVisualizarEntregas.setEnabled(true);
}//GEN-LAST:event_tabelaCompraAbertaMouseReleased

    private void tabelaItensCompraAEntregarMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tabelaItensCompraAEntregarMousePressed
       if(tabelaItensCompraAEntregar.isEnabled()){
        btIncluirIten.setEnabled(true);
        btIncluirAlterando.setEnabled(true);
        }
}//GEN-LAST:event_tabelaItensCompraAEntregarMousePressed

    private void tabelaItensEntreguesMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tabelaItensEntreguesMousePressed
        if (tabelaItensEntregues.isEnabled()) {
            btRemover.setEnabled(true);
        }
    }//GEN-LAST:event_tabelaItensEntreguesMousePressed

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btAlterarDadosItem;
    private javax.swing.JButton btCancelaPedido;
    private javax.swing.JButton btConfirmarItemQuant;
    private javax.swing.JButton btConfirmarUsu;
    private javax.swing.JButton btEntrega;
    private javax.swing.JButton btEstorno;
    private javax.swing.JButton btFinalizar;
    private javax.swing.JButton btFinalizarEntrega;
    private javax.swing.ButtonGroup btGrpMateriais;
    private javax.swing.JButton btIncluirAlterando;
    private javax.swing.JButton btIncluirCompra;
    private javax.swing.JButton btIncluirIten;
    private javax.swing.JButton btPedirProduto;
    private javax.swing.JButton btRemover;
    private javax.swing.JButton btRetirarItemCompra;
    private javax.swing.JButton btVisualizarEntregas;
    private com.toedter.calendar.JDateChooser calendarioDataEntrega;
    private com.toedter.calendar.JDateChooser calendarioDataPrevista;
    private javax.swing.JComboBox comboNotaFiscal;
    private javax.swing.JDialog dialogConfirmarEstorno;
    private javax.swing.JDialog dialogDadosCompra;
    private javax.swing.JDialog dialogEntregaCompra;
    private javax.swing.JDialog dialogQuantEntregue;
    private javax.swing.JDialog dialogUsuario;
    private javax.swing.JButton jButton1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPasswordField jPsSenha;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JSeparator jSeparator2;
    private javax.swing.JLabel lbCompraAberta;
    private javax.swing.JLabel lbContato;
    private javax.swing.JLabel lbContatoVl;
    private javax.swing.JLabel lbDadosCompra;
    private javax.swing.JLabel lbData;
    private javax.swing.JLabel lbDataEntrega;
    private javax.swing.JLabel lbDigitar;
    private javax.swing.JLabel lbDisponíveis;
    private javax.swing.JLabel lbEmail;
    private javax.swing.JLabel lbEmailVal;
    private javax.swing.JLabel lbEntregaProduto;
    private javax.swing.JLabel lbEntregueVl;
    private javax.swing.JLabel lbEstoqueVl;
    private javax.swing.JLabel lbFornecedor;
    private javax.swing.JLabel lbItemCompra;
    private javax.swing.JLabel lbItenCompra;
    private javax.swing.JLabel lbItensCompra;
    private javax.swing.JLabel lbItensEntregues;
    private javax.swing.JLabel lbMaterialVl;
    private javax.swing.JLabel lbNomeProduto;
    private javax.swing.JLabel lbNotaFiscal;
    private javax.swing.JLabel lbNrNota;
    private javax.swing.JLabel lbPedido;
    private javax.swing.JLabel lbPedidoMaterial;
    private javax.swing.JLabel lbPesquisaMatDisp;
    private javax.swing.JLabel lbPesquisaMatPed;
    private javax.swing.JLabel lbPesquisaMaterial;
    private javax.swing.JLabel lbPesquisaRzSc;
    private javax.swing.JLabel lbPreco;
    private javax.swing.JLabel lbPrecoEntregue;
    private javax.swing.JLabel lbQtdEntrg;
    private javax.swing.JLabel lbQtdEstornar;
    private javax.swing.JLabel lbQtdEstq;
    private javax.swing.JLabel lbQuantEntregue;
    private javax.swing.JLabel lbRazaoSocial;
    private javax.swing.JLabel lbRealizarEstorno;
    private javax.swing.JLabel lbRzSocVal;
    private javax.swing.JLabel lbSenha;
    private javax.swing.JLabel lbTelefones;
    private javax.swing.JLabel lbTipoQuant;
    private javax.swing.JLabel lbTipoVl;
    private javax.swing.JLabel lbUsuario;
    private javax.swing.JLabel lbVT;
    private javax.swing.JTabbedPane painelAbas;
    private javax.swing.JPanel painelCompras;
    private javax.swing.JPanel painelFinalizarCompra;
    private javax.swing.JPanel painelMateriaisDisponíveis;
    private javax.swing.JPanel painelPedidos;
    private javax.swing.JRadioButton rBtnLimiteEstoque;
    private javax.swing.JRadioButton rBtnTodos;
    private javax.swing.JScrollPane scrollCompraAberta;
    private javax.swing.JScrollPane scrollItensCompra;
    private javax.swing.JScrollPane scrollTabCompra;
    private javax.swing.JScrollPane scrollTabItensCompra;
    private javax.swing.JScrollPane scrollTabMatDisp;
    private javax.swing.JScrollPane scrollTabMatPed;
    private javax.swing.JScrollPane scrollTabelaFornecedor;
    private javax.swing.JSpinner spinnerEstorno;
    private javax.swing.JSpinner spinnerQuantEntregue;
    private javax.swing.JToggleButton tBtNovaCompra;
    private javax.swing.JToggleButton tBtNovaEntrega;
    private javax.swing.JTable tabelaCompra;
    private javax.swing.JTable tabelaCompraAberta;
    private javax.swing.JTable tabelaFornecedor;
    private javax.swing.JTable tabelaItensCompra;
    private javax.swing.JTable tabelaItensCompraAEntregar;
    private javax.swing.JTable tabelaItensComprar;
    private javax.swing.JTable tabelaItensEntregues;
    private javax.swing.JTable tabelaItensEntreguesPesquisa;
    private javax.swing.JTable tabelaMateriaisDisponiveis;
    private javax.swing.JTable tabelaMateriaisPedidos;
    private javax.swing.JTable tabelaTelefone;
    private javax.swing.JTextField tfNotaFiscal;
    private javax.swing.JTextField tfPesquisaMatCom;
    private javax.swing.JTextField tfPesquisaMatDisp;
    private javax.swing.JTextField tfPesquisaMatPed;
    private javax.swing.JTextField tfPesquisaRzSc;
    private javax.swing.JTextField tfUsuario;
    // End of variables declaration//GEN-END:variables
}
